<% include ../header%>
<link rel="stylesheet" href="/stylesheets/dropzone.css">

<div class="container" style='width: 70%'>
    <h1>Thêm chap cho truyện</h1>
    <form id="upload-widget" method="post" action="/uploadfile" class="dropzone">
        <div class="fallback">
            <input name="file" type="file" />
        </div>
    </form>
    <form action = "/upInfo" method="post">
        <div class="form-group">
            <label for="exampleInputEmail1">Name story</label>
            <input type="text" name = "nameStory" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp"
                placeholder="NameStory">
        </div>
        <div class="form-group">
            <label for="chap">Chap</label>
            <input type="number" name = "chap" class="form-control" id="exampleInputPassword1" placeholder="chap">
        </div>
        <button type="submit" name="" id="" class="btn btn-primary" style = "margin-bottom: 150px">insert</button>
    </form>
</div>

<script>

Dropzone.options.uploadWidget = {
  paramName: 'file',
  maxFilesize: 1000, // MB
  maxFiles: 1,
  dictDefaultMessage: 'Drag an image here to upload, or click to select one',
  headers: {
    'x-csrf-token': document.querySelectorAll('meta[name=csrf-token]')[0].getAttributeNode('content').value,
  },
  acceptedFiles: 'application/pdf',
  init: function() {
    this.on('success', function( file, resp ){
      console.log( file );
      console.log( resp );
    });
    this.on('thumbnail', function(file) {
      if ( file.width < 640 || file.height < 480 ) {
        file.rejectDimensions();
      }
      else {
        file.acceptDimensions();
      }
    });
  },
  accept: function(file, done) {
    file.acceptDimensions = done;
    file.rejectDimensions = function() {
      done('The image must be at least 640 x 480px')
    };
  }
};

</script>

<script type="text/javascript" src="/javascripts/dropzone.js"></script>
<% include ../footer %>